<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Learn to build a Discord bot using Discord.py and host it on Replit (for free) | Nature and Human</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />

    

        
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.css" integrity="sha384-D+9gmBxUQogRLqvARvNLmA9hS2x//eK1FhVb9PiU86gmcrBrJAQT8okdJ4LMp2uv" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.js" integrity="sha384-483A6DwYfKeDa0Q52fJmxFXkcPCFfnXMoXblOkJ4JcA8zATN6Tm78UNL72AKk+0O" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/contrib/auto-render.min.js" integrity="sha384-yACMu8JWxKzSp/C1YV86pzGiQ/l1YUfE8oPuahJQxzehAjEt2GiQuy/BIvl9KyeF" crossorigin="anonymous"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body);
        });
    </script>

    
    <link rel="stylesheet" href="/css/highlightjs/styles/github.css">
    <script src="/css/highlightjs/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

  
    <header>
      <nav>
        <ul>
          
          
          <li class="nav-menu">
              <a href="https://zian999.github.io/en">/home/en</a>
          </li>
          
          
          <li class="nav-menu">
            <a href="/tags/">~/Tags</a>
          </li>
          
          
          <li class="nav-menu">
            <a href="/zh">~/中文</a>
          </li>
          

          
          
          <li class="nav-feed">
            <a href="/index.xml">[rss]</a>
          </li>
          

        </ul>
      </nav>
    </header>
  </head>

  <body>
    <br/>

<div class="article-meta">
<h1><span class="title">Learn to build a Discord bot using Discord.py and host it on Replit (for free)</span></h1>

<h2 class="date">2022/09/23</h2>
<p class="terms">

  <strong>Tags: </strong>
  
    <a href="https://zian999.github.io/tags/discord">discord</a>
  
    <a href="https://zian999.github.io/tags/python">python</a>
  

</p>
</div>



<main>
<p>While there are sites like <a href="https://splatoon3.ink/">splatoon3.ink</a> with which I can check the cuurent and future stage information in Splatoon, I still want a tool at hand that allows me to check the stage information conveniently and to share it with my Splat-friends. A Discord Bot maybe? So I learnt and built a bot myself for my Splatoon 3 server!.</p>
<h2 id="tools">Tools</h2>
<ol>
<li>
<p>The language I used was Python, and the package I used to build and communicate with the bot was <a href="https://github.com/Rapptz/discord.py">Discord.py</a>. Other packages used including dotenv, requests, and pillow.</p>
</li>
<li>
<p>I&rsquo;m completely new to developing Discord bots. The <a href="https://discord.com/developers/docs/intro">Discord developer documentation</a> and the <a href="https://discordpy.readthedocs.io/en/stable/">Discord.py documentation</a> were very useful when I started the project.</p>
</li>
<li>
<p>The API I used to get Splatoon 3 stage infomation was <a href="https://spla3.yuu26.com/">Spla3 API</a>. Thanks to the author!</p>
</li>
<li>
<p><del>I put the bot on <a href="https://replit.com">Replit.com</a>. To avoid their restriction and make the bot online 24/7, I followed the last part of <a href="https://www.freecodecamp.org/news/create-a-discord-bot-with-python/">this tutorial</a>. In a word, I created a web server in my repl, and then used a third party service <a href="https://uptimerobot.com/">uptimerobot</a> to &ldquo;wake up&rdquo; the bot every 5 mins.</del> See [UPDATE 2022/09/25] at the bottom.</p>
</li>
</ol>
<h2 id="caveats">Caveats</h2>
<ol>
<li>
<p>On Replit.com, I cannot have a <code>.env</code> file now. I have to use the so-called <a href="https://docs.replit.com/programming-ide/storing-sensitive-information-environment-variables">Secrets</a> to store my bot token.</p>
</li>
<li>
<p>The bot on Replit.com kept giving me <code>429</code> error after running for a certain time. It is probably because [Replit.com uses shared IP addresses] (<a href="https://stackoverflow.com/questions/67395660/replit-discord-bot-blocked-from-discord)">https://stackoverflow.com/questions/67395660/replit-discord-bot-blocked-from-discord)</a>. And to deal with that issue, we can simply use the command <code>kill 1</code> in the shell (<a href="https://stackoverflow.com/a/71380899/18727576">see this answer</a>).</p>
</li>
</ol>
<p>Finally, the Github repo for my bot is <a href="https://github.com/zian999/sp3-bot">here</a>. Stay safe and enjoy coding!</p>
<h2 id="screenshots">Screenshots</h2>
<ul>
<li>Screenshot 1</li>
</ul>
<p><img src="/images/posts/2022/sp3bot-screenshot1.jpg" alt="Screenshot1"></p>
<ul>
<li>Screenshot 2</li>
</ul>
<p><img src="/images/posts/2022/sp3bot-screenshot2.jpg" alt="Screenshot2"></p>
<p>====================</p>
<p>[UPDATE 2022/09/25] Due to the <code>429</code> error issue, I gave up hosting my bot on Replit. Now I am using <a href="https://www.heroku.com">Heroku</a> to host the bot. The tutorial I followed was <a href="https://medium.com/analytics-vidhya/how-to-host-a-discord-py-bot-on-heroku-and-github-d54a4d62a99e">this one</a>. However, the bad news is that Heroku is going to cancel all the free dyno hours very soon (by the end of 2022).</p>

</main>

<br/><hr/>
<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'tchkm6';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    <footer>
      
<script>
(function() {
  function center_el(tagName) {
    var tags = document.getElementsByTagName(tagName), i, tag;
    for (i = 0; i < tags.length; i++) {
      tag = tags[i];
      var parent = tag.parentElement;
      
      if (parent.childNodes.length === 1) {
        
        if (parent.nodeName === 'A') {
          parent = parent.parentElement;
          if (parent.childNodes.length != 1) continue;
        }
        if (parent.nodeName === 'P') parent.style.textAlign = 'center';
      }
    }
  }
  var tagNames = ['img', 'embed', 'object'];
  for (var i = 0; i < tagNames.length; i++) {
    center_el(tagNames[i]);
  }
})();
</script>

      
      <hr/>
      <a href="/about/">About Me</a> | <a href="https://www.youtube.com/channel/UCXVPqgL7VXwrONaK4LPwFoA/">Youtube</a> | <a href="https://www.instagram.com/tachikoma99/">Instagram</a>
      
    </footer>
  </body>
</html>

